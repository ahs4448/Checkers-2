<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>

  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"
    integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">

  <link rel="stylesheet" href="style.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <link href="https://fonts.googleapis.com/css?family=Press+Start+2P" rel="stylesheet">
</head>

<!-- As a link -->
<nav class="navbar navbar-light bg-light" id="navigation">

  <h3><span class="playerOne">Player 1</span> </h3>
  <h3><span class="playerTwo">Player 2</span> </h3>

  <a class="navbar-brand" href="#">Checkers</a>
  <button id="undo"> Unselect</button>
</nav>



<!-- the board -->
<div id="container">


  <div class="piece">
  </div>

  <div class="valid" value="1" data="odd-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid" value="2" data="odd-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid" value="3" data="odd-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid" value="4" data="odd-from-top">
  </div>

  <div class="valid" value="5" data="even-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid" value="6" data="even-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid" value="7" data="even-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid" value="8" data="even-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="piece">
  </div>

  <div class="valid" value="9" data="odd-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid" value="10" data="odd-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid" value="11" data="odd-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid" value="12" data="odd-from-top">
  </div>

  <div class="valid" value="13" data="even-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid" value="14" data="even-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid" value="15" data="even-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid" value="16" data="even-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="piece">
  </div>

  <div class="valid" value="17" data="odd-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid" value="18" data="odd-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid" value="19" data="odd-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid" value="20" data="odd-from-top">
  </div>

  <div class="valid" value="21" data="even-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid" value="22" data="even-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid" value="23" data="even-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid" value="24" data="even-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="piece">
  </div>

  <div class="valid" value="25" data="odd-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid" value="26" data="odd-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid" value="27" data="odd-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid" value="28" data="odd-from-top">
  </div>

  <div class="valid" value="29" data="even-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid" value="30" data="even-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid" value="31" data="even-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid" value="32" data="even-from-top">
  </div>

  <div class="piece">
  </div>

</div>


<!-- the pieces -->

<div id="container2">


  <div class="piece">
  </div>

  <div class="valid2" position="1" data="odd-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid2" position="2" data="odd-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid2" position="3" data="odd-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid2" position="4" data="odd-from-top">
  </div>

  <div class="valid2" position="5" data="even-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid2" position="6" data="even-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid2" position="7" data="even-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid2" position="8" data="even-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="piece">
  </div>

  <div class="valid2" position="9" data="odd-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid2" position="10" data="odd-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid2" position="11" data="odd-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid2" position="12" data="odd-from-top">
  </div>

  <div class="valid" value="13" data="even-from-top" style="background-color: black;">
  </div>

  <div class="piece">
  </div>

  <div class="valid" value="14" data="even-from-top" style="background-color: black;">
  </div>

  <div class="piece">
  </div>

  <div class="valid" value="15" data="even-from-top" style="background-color: black;">
  </div>

  <div class="piece">
  </div>

  <div class="valid" value="16" data="even-from-top" style="background-color: black;">
  </div>

  <div class="piece">
  </div>

  <div class="piece">
  </div>

  <div class="valid" value="17" data="odd-from-top" style="background-color: black;">
  </div>

  <div class="piece">
  </div>

  <div class="valid" value="18" data="odd-from-top" style="background-color: black;">
  </div>

  <div class="piece">
  </div>

  <div class="valid" value="19" data="odd-from-top" style="background-color: black;">
  </div>

  <div class="piece">
  </div>

  <div class="valid" value="20" data="odd-from-top" style="background-color: black;">
  </div>

  <div class="valid3" position="21" data="even-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid3" position="22" data="even-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid3" position="23" data="even-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid3" position="24" data="even-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="piece">
  </div>

  <div class="valid3" position="25" data="odd-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid3" position="26" data="odd-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid3" position="27" data="odd-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid3" position="28" data="odd-from-top">
  </div>

  <div class="valid3" position="29" data="even-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid3" position="30" data="even-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid3" position="31" data="even-from-top">
  </div>

  <div class="piece">
  </div>

  <div class="valid3" position="32" data="even-from-top">
  </div>

  <div class="piece">
  </div>

</div>





<script>


$(".playerOne").css("color", "orange") 

  var playerOneTurn = true;
  var playerTwoTurn = false;
  var num;
  var arr = [];
  var positionRow;
  var positionNum;
  var isKing = "";

  function makeKing() {


    if ($(`[position='${29}']`).attr("class") == "valid2") {
      $(`[position='${29}']`).addClass("kingOne")
      alert('king me p1');
    }
    if ($(`[position='${30}']`).attr("class") == "valid2") {
      $(`[position='${30}']`).addClass("kingOne")
      alert('king me p1');
    }
    if ($(`[position='${31}']`).attr("class") == "valid2") {
      $(`[position='${31}']`).addClass("kingOne")
      alert('king me p1');
    }
    if ($(`[position='${32}']`).attr("class") == "valid2") {
      $(`[position='${32}']`).addClass("kingOne")
      alert('king me p1');
    }
    if ($(`[position='${1}']`).attr("class") == "valid3") {
      $(`[position='${1}']`).addClass("kingTwo")
      alert('king me p2');
    }
    if ($(`[position='${2}']`).attr("class") == "valid3") {
      $(`[position='${2}']`).addClass("kingTwo")
      alert('king me p2');
    }
    if ($(`[position='${3}']`).attr("class") == "valid3") {
      $(`[position='${3}']`).addClass("kingTwo")
      alert('king me p2');
    }
    if ($(`[position='${4}']`).attr("class") == "valid3") {
      $(`[position='${4}']`).addClass("kingTwo")
      alert('king me p2');
    }
  }

  function reset() {
    arr = [];
    positionRow = "";
    positionNum = 0;
    
    if (playerOneTurn = true) {
      playerOneTurn = false;
      playerTwoTurn = true;   
      $(".playerTwo").css("color", "orange")
      $(".playerOne").css("color", "black") 
    }
    if (playerTwoTurn = true) {
      playerTwoTurn = false;
      playerOneTurn = true;    
      $(".playerOne").css("color", "orange") 
      $(".playerTwo").css("color", "black") 
    }
    num = 0;
    isKing = "";
  }


  function Move(value, directionH, directionV, currentPlayer, cpClass) { 
    debugger
    if (positionRow == "odd-from-top" && num === positionNum + value) {
      $(currentPlayer).animate({ left: directionH, top: directionV });
      $(currentPlayer).attr("position", `${num}`)
      $(currentPlayer).attr("data", "even-from-top")
      $(currentPlayer).removeClass(cpClass);
      makeKing()
      reset()

    }
    if (positionRow == "odd-from-top" && num === positionNum + value) {
      $(currentPlayer).animate({ left: directionH, top: directionV });
      $(currentPlayer).attr("position", `${num}`)
      $(currentPlayer).attr("data", "even-from-top")
      $(currentPlayer).removeClass(cpClass);
      makeKing()
      reset()
    }

    if (positionRow == "even-from-top" && num === positionNum + value) {
      $(currentPlayer).animate({ left: directionH, top: directionV });
      $(currentPlayer).attr("position", `${num}`)
      $(currentPlayer).attr("data", "odd-from-top")
      $(currentPlayer).removeClass(cpClass);
      makeKing()
      reset()
    }
    if (positionRow == "even-from-top" && num === positionNum + value) {
      $(currentPlayer).animate({ left: directionH, top: directionV });
      $(currentPlayer).attr("position", `${num}`)
      $(currentPlayer).attr("data", "odd-from-top")
      $(currentPlayer).removeClass(cpClass);
      makeKing()
      reset()
    }
  }

  function skip(value, oppValue, valueTwo, oppValueTwo, directionH, directionV, currentPlayer, cpClass, opponent,cp) {
    //if (positionRow == "odd-from-top" && num === positionNum + value) {
    //alert("skipping,player 1");

    $(currentPlayer).animate({ left: directionH, top: directionV });
    $(currentPlayer).attr("position", `${num}`)
    //$(currentPlayer).attr("data", "odd-from-top")
    $(`[position='${positionNum + oppValue}']`).css("visibility", "hidden");

    // setTimeout(function () {

      positionRow = arr[0].getAttribute("data");
      positionNum = parseInt(arr[0].getAttribute("position"))

      if ($(`[position='${num + oppValue}']`).attr("class") == opponent && $(`[value='${num + value}']`).attr("class") == "valid" && $(`[position='${num + value}']`).attr("class") !== opponent && $(`[position='${num + value}']`).attr("class") !== cp){
       alert('extra skip? condition 1');
        return;
      }
      else if ($(`[position='${num + oppValueTwo}']`).attr("class") == opponent && $(`[value='${num + valueTwo}']`).attr("class") == "valid" && $(`[position='${num + valueTwo}']`).attr("class") !== opponent && $(`[position='${num + valueTwo}']`).attr("class") !== cp) {
       alert('extra skip? condition 2');
        return;
      }

      else {

        $(currentPlayer).removeClass(cpClass);
        alert('turnover s')
        makeKing()
        
        reset()

      }

    // }, 600);
  }
  //}

  function skipKings(value, oppValue, valueTwo, oppValueTwo, valueThree ,oppValueThree ,directionH, directionV, currentPlayer, cpClass, opponent,cp) {
    


    $(currentPlayer).animate({ left: directionH, top: directionV });
    $(currentPlayer).attr("position", `${num}`)
    //$(currentPlayer).attr("data", "odd-from-top")
    $(`[position='${positionNum + oppValue}']`).css("visibility", "hidden");

    // setTimeout(function () {

      positionRow = arr[0].getAttribute("data");
      positionNum = parseInt(arr[0].getAttribute("position"))


      if ($(`[position='${num + oppValue}']`).attr("class") == opponent && $(`[value='${num + value}']`).attr("class") == "valid" && $(`[position='${num + value}']`).attr("class") !== opponent && $(`[position='${num + value}']`).attr("class") !== cp){
       alert('extra skip? condition k 1');
       $(`[value='${num + value}']`).css("background-color","grey")
         //return;
      }
      else if ($(`[position='${num + oppValueTwo}']`).attr("class") == opponent && $(`[value='${num + valueTwo }']`).attr("class") == "valid" && $(`[position='${num + valueTwo}']`).attr("class") !== opponent && $(`[position='${num + valueTwo}']`).attr("class") !== cp) {
       alert('extra skip? condition k 2');
       $(`[value='${num + valueTwo}']`).css("background-color","grey")
        //return;
      }
      else if ($(`[position='${num + oppValueThree}']`).attr("class") == opponent && $(`[value='${num + valueThree }']`).attr("class") == "valid" && $(`[position='${num + valueThree}']`).attr("class") !== opponent && $(`[position='${num + valueThree}']`).attr("class") !== cp) {
       alert('extra skip? condition k 3');
       $(`[value='${num + valueThree}']`).css("background-color","grey")
        //return;
      }
      

      else {

        $(currentPlayer).removeClass(cpClass);
        alert('k turnover ' + num)
        makeKing()
        
        reset()

      }

    // }, 600);
  }


  $(".valid2").click(function () {
 
    $(this).toggleClass("selected")
    arr.push(this);

    positionRow = arr[0].getAttribute("data");  //even or odd row
    positionNum = parseInt(arr[0].getAttribute("position"))  //the number on the board where the piece is located

    if (arr[0].getAttribute("class") === "valid2 kingOne selected") {
  
      isKing = "p1"
    }

  });

  //player 2

  $(".valid3").click(function () {

    $(this).toggleClass("selectedTwo")
    arr.push(this);

    positionRow = arr[0].getAttribute("data");
    positionNum = parseInt(arr[0].getAttribute("position"))


  });

  

  $(".valid").click(function () {
    num = parseInt(this.getAttribute("value")) //the spot on the board where the piece will be moved to

    if (playerOneTurn = true && isKing !== "p1") {
      if (num === positionNum + 5 && positionRow == "odd-from-top") {
        Move(5, "+=64", "+=64", ".selected", "selected")
      }
      else if (num === positionNum + 4 && positionRow == "odd-from-top") {
        Move(4, "-=64", "+=64", ".selected", "selected")
      }
      else if (num === positionNum + 4 && positionRow == "even-from-top") {
        Move(4, "+=64", "+=64", ".selected", "selected")
      }
      else if (num === positionNum + 3 && positionRow == "even-from-top") {
        Move(3, "-=64", "+=64", ".selected", "selected")
      }

      else if (num === positionNum + 9 && positionRow == "odd-from-top") {
        skip(9, 5, 7, 4, "+=128", "+=128", ".selected", "selected", "valid3","valid2")
      }
      else if (num === positionNum + 7 && positionRow == "odd-from-top") {
        skip(7, 4, 9, 5, "-=128", "+=128", ".selected", "selected", "valid3","valid2")
      }
      else if (num === positionNum + 9 && positionRow == "even-from-top") {
        skip(9, 4, 7, 3, "+=128", "+=128", ".selected", "selected", "valid3","valid2")
      }
      else if (num === positionNum + 7 && positionRow == "even-from-top") {
        skip(7, 3, 9, 4, "-=128", "+=128", ".selected", "selected", "valid3","valid2")

      }
    }
    //king p1
    if (playerOneTurn = true && isKing === "p1") {
      if (num === positionNum + 5 && positionRow == "odd-from-top") {
        Move(5, "+=64", "+=64", ".selected", "selected")
        //return;
      }
      else if (num === positionNum + 4 && positionRow == "odd-from-top") {
        Move(4, "-=64", "+=64", ".selected", "selected")
        //return;
      }
      else if (num === positionNum + 4 && positionRow == "even-from-top") {
        Move(4, "+=64", "+=64", ".selected", "selected")
        //return;
      }
      else if (num === positionNum + 3 && positionRow == "even-from-top") {
        Move(3, "-=64", "+=64", ".selected", "selected")
        //return;
      }

      else if (num === positionNum + -3 && positionRow == "odd-from-top") {
        Move(-3, "+=64", "-=64", ".selected", "selected")
        //return;
      }
      else if (num === positionNum + -4 && positionRow == "odd-from-top") {
        Move(-4, "-=64", "-=64", ".selected", "selected")
        //return;
      }
      else if (num === positionNum + -4 && positionRow == "even-from-top") {
        Move(-4, "+=64", "-=64", ".selected", "selected")
        //return;
      }
      else if (num === positionNum + -5 && positionRow == "even-from-top") {
        Move(-5, "-=64", "-=64", ".selected", "selected")
        //return;
      }
// skipping
       else if (num === positionNum + 9 && positionRow == "odd-from-top" && num + 9 < 33) {
        skipKings(9, 5, 7, 4,-7,-3, "+=128", "+=128", ".selected", "selected", "valid3","valid2")
        //return;
      }
       else if (num === positionNum + 7 && positionRow == "odd-from-top") {
        skipKings(7, 4, 9, 5,-9,-4, "-=128", "+=128", ".selected", "selected", "valid3","valid2")
        //return;
      }
      else if (num === positionNum + 9 && positionRow == "even-from-top" && num + 9 < 33) {
        skipKings(9, 4, 7, 3,-7,-4, "+=128", "+=128", ".selected", "selected", "valid3","valid2")
        //return;
      }
      else if (num === positionNum + 7 && positionRow == "even-from-top" && num + 7 < 32) {
        skipKings(7, 3, 9, 4,-9,-5, "-=128", "+=128", ".selected", "selected", "valid3","valid2")
        //return;
      }

      
       else if (num === positionNum - 7 && positionRow == "odd-from-top") {
        skipKings(-7, -3, -9, -4,9,5,"+=128", "-=128", ".selected", "selected", "valid3","valid2")
        
      }
      else if (num === positionNum - 9 && positionRow == "odd-from-top") {
        skipKings(-9, -4, -7, -3,7,4, "-=128", "-=128", ".selected", "selected", "valid3","valid2")
        
      }

       else if (num === positionNum - 7 && positionRow == "even-from-top") {
        skipKings(-7, -4, -9, -5,9,4, "+=128", "-=128", ".selected", "selected", "valid3","valid2")
      }
      else if (num === positionNum  - 9 && positionRow == "even-from-top") {
        skipKings(-9, -5, -7, -4,7,3, "-=128", "-=128", ".selected", "selected", "valid3","valid2")
      }
    }


    //p2
    if (playerTwoTurn = true) {
      //MoveUpward()
      if (num === positionNum + -3 && positionRow == "odd-from-top") {
        Move(-3, "+=64", "-=64", ".selectedTwo", "selectedTwo")
      }
      else if (num === positionNum + -4 && positionRow == "odd-from-top") {
        Move(-4, "-=64", "-=64", ".selectedTwo", "selectedTwo")
      }
      else if (num === positionNum + -4 && positionRow == "even-from-top") {
        Move(-4, "+=64", "-=64", ".selectedTwo", "selectedTwo")
      }
      else if (num === positionNum + -5 && positionRow == "even-from-top") {
        Move(-5, "-=64", "-=64", ".selectedTwo", "selectedTwo")
      }

      //skip
      else if (num === positionNum + -7 && positionRow == "odd-from-top") {
        skip(-7, -3, -9, -4, "+=128", "-=128", ".selectedTwo", "selectedTwo", "valid2","valid3")
      }
      else if (num === positionNum + -9 && positionRow == "odd-from-top") {
        skip(-9, -4, -7, -3, "-=128", "-=128", ".selectedTwo", "selectedTwo", "valid2","valid3")
      }

      else if (num === positionNum + -7 && positionRow == "even-from-top") {
        skip(-7, -4, -9, -5, "+=128", "-=128", ".selectedTwo", "selectedTwo", "valid2","valid3")
      }
      else if (num === positionNum + -9 && positionRow == "even-from-top") {
        skip(-9, -5, -7, -4, "-=128", "-=128", ".selectedTwo", "selectedTwo", "valid2","valid3")
      }
    }

  });

  // when a king skips, the array empties,i need to figure out why

</script>

</body>

</html>
